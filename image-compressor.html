<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-M2JM5FC3');</script>
    <!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Compress and optimize images locally without upload. Free image compressor supporting all formats. Privacy-first, client-side processing.">
    <meta name="robots" content="index, follow">
    <meta name="google-adsense-account" content="ca-pub-9710571190649081">
    <title>Image Compressor - Optimize Images Locally Free | SimpleDevTools</title>
    <link rel="canonical" href="https://simpledevtools.tech/image-compressor" />

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Image Compressor",
      "description": "Compress and optimize images locally without upload. Free image compressor supporting all formats.",
      "url": "https://simpledevtools.tech/image-compressor",
      "applicationCategory": "MultimediaApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "creator": {
        "@type": "Organization",
        "name": "SimpleDevTools",
        "url": "https://simpledevtools.tech"
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {"@type": "ListItem", "position": 1, "name": "Home", "item": "https://simpledevtools.tech/"},
        {"@type": "ListItem", "position": 2, "name": "Tools", "item": "https://simpledevtools.tech/tools"},
        {"@type": "ListItem", "position": 3, "name": "Image Compressor", "item": "https://simpledevtools.tech/image-compressor"}
      ]
    }
    </script>
    <script src="https://analytics.ahrefs.com/analytics.js" data-key="Hsz4y6HoB+jznDcQTkjyfg" async></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Grotesk:wght@400;500;600&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./dist/output.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <script src="./dist/js/lucide.min.js"></script>

    <script src="layout.js"></script>


    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9710571190649081"
        crossorigin="anonymous"></script>
</head>

<body
    class="flex flex-col min-h-screen transition-colors duration-300 bg-white dark:bg-black text-neutral-900 dark:text-neutral-100">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M2JM5FC3" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <!-- Fallback navigation for crawlers without JS -->

    <noscript>
        <nav class="p-4 text-sm text-neutral-600 dark:text-neutral-400">
            <a href="/" class="underline">Home</a> |
            <a href="/tools" class="underline">Tools</a> |
            <a href="/privacy-policy" class="underline">Privacy</a> |
            <a href="/terms" class="underline">Terms</a>
        </nav>
    </noscript>
    <div class="fixed inset-0 z-0 pointer-events-none bg-grid opacity-60"></div>
    <div
        class="fixed top-0 left-1/2 -translate-x-1/2 w-[600px] h-[300px] bg-pink-500/10 dark:bg-pink-500/20 blur-[100px] rounded-full pointer-events-none z-0">
    </div>



    <main class="relative z-10 px-4 pb-20 grow pt-28 sm:px-6">
        <div class="max-w-6xl mx-auto">
            <div class="max-w-2xl mx-auto mb-12 text-center">
                <div
                    class="inline-flex items-center gap-2 px-3 py-1 mb-6 font-mono text-xs font-medium text-pink-600 border border-pink-100 rounded-full bg-pink-50 dark:bg-pink-900/20 dark:text-pink-400 dark:border-pink-900/30">
                    <i data-lucide="shield-check" class="w-3 h-3"></i>
                    <span>100% Client-Side Processing</span>
                </div>
                <h1
                    class="mb-4 text-4xl font-semibold tracking-tight font-display sm:text-5xl text-neutral-900 dark:text-white">
                    Image Compressor & Optimizer
                </h1>
                <p class="text-lg leading-relaxed text-neutral-500 dark:text-neutral-400">
                    Compress and optimize images locally. No upload required‚Äîeverything happens in your browser.
                </p>
            </div>

            <div
                class="mb-16 overflow-hidden bg-white border shadow-xs dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 rounded-xl">
                <div class="p-6 border-b border-neutral-200 dark:border-neutral-800">
                    <div id="drop-zone" class="p-12 text-center rounded-lg cursor-pointer drop-zone">
                        <input type="file" id="file-input" accept="image/*" multiple class="hidden">
                        <div class="flex flex-col items-center gap-4">
                            <div
                                class="flex items-center justify-center w-16 h-16 bg-pink-100 rounded-full dark:bg-pink-900/30">
                                <i data-lucide="upload" class="w-8 h-8 text-pink-600 dark:text-pink-400"></i>
                            </div>
                            <div>
                                <p class="mb-1 text-lg font-medium text-neutral-900 dark:text-neutral-100">Drop images
                                    here or click to browse</p>
                                <p class="text-sm text-neutral-500 dark:text-neutral-400">Supports all image files</p>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center justify-between mt-6">
                        <div class="flex items-center gap-4">
                            <div class="flex flex-col">
                                <label
                                    class="mb-2 text-xs font-semibold text-neutral-500 dark:text-neutral-400">Quality</label>
                                <div class="flex items-center gap-3">
                                    <input type="range" id="quality-slider" min="10" max="100" value="80" class="w-40">
                                    <span id="quality-value"
                                        class="w-12 font-mono text-sm font-medium text-neutral-900 dark:text-neutral-100">80%</span>
                                </div>
                            </div>
                        </div>
                        <button id="clear-all"
                            class="hidden px-4 py-2 text-sm transition-colors text-neutral-500 hover:text-red-600">
                            <i data-lucide="trash-2" class="inline w-4 h-4 mr-1"></i>
                            Clear All
                        </button>
                    </div>
                </div>

                <div id="images-container" class="p-6 space-y-4 max-h-[600px] overflow-y-auto">
                    <div class="py-12 text-center text-neutral-400 dark:text-neutral-600">
                        No images uploaded yet
                    </div>
                </div>
            </div>

            <div class="max-w-3xl mx-auto mb-20 space-y-12">
                <section>
                    <div class="flex items-center gap-3 mb-4">
                        <div class="p-1.5 rounded-md bg-neutral-100 dark:bg-neutral-800">
                            <i data-lucide="info" class="w-4 h-4 text-neutral-600 dark:text-neutral-400"></i>
                        </div>
                        <h2 class="text-xl font-medium font-display text-neutral-900 dark:text-white">How Image Compression Works</h2>
                    </div>
                    <div class="space-y-4 text-sm text-neutral-600 dark:text-neutral-400">
                        <p>Image compression reduces file size by removing redundant data while preserving visual quality. There are two main types:</p>
                        <div class="grid gap-4 md:grid-cols-2">
                            <div class="p-4 border rounded-lg border-neutral-200 dark:border-neutral-700">
                                <h3 class="font-semibold text-neutral-900 dark:text-white mb-2">Lossy Compression</h3>
                                <p class="text-xs">Permanently removes some image data to achieve smaller files. JPEG uses this‚Äîquality slider controls how much data is discarded. Lower quality = smaller file, more artifacts.</p>
                            </div>
                            <div class="p-4 border rounded-lg border-neutral-200 dark:border-neutral-700">
                                <h3 class="font-semibold text-neutral-900 dark:text-white mb-2">Lossless Compression</h3>
                                <p class="text-xs">Reduces file size without losing any data. PNG uses this for graphics with transparency. Perfect reconstruction but larger files than lossy.</p>
                            </div>
                        </div>
                        <p><strong>This tool</strong> uses the HTML5 Canvas API to perform lossy compression directly in your browser. Your images never leave your device‚Äîno server upload required.</p>
                    </div>
                </section>

                <!-- Format Comparison -->
                <section>
                    <div class="flex items-center gap-3 mb-4">
                        <div class="p-1.5 rounded-md bg-neutral-100 dark:bg-neutral-800">
                            <i data-lucide="file-image" class="w-4 h-4 text-neutral-600 dark:text-neutral-400"></i>
                        </div>
                        <h2 class="text-xl font-medium font-display text-neutral-900 dark:text-white">Image Format Comparison</h2>
                    </div>
                    <div class="overflow-hidden border rounded-lg border-neutral-200 dark:border-neutral-700">
                        <table class="w-full text-xs">
                            <thead class="bg-neutral-50 dark:bg-neutral-800">
                                <tr>
                                    <th class="p-3 text-left font-semibold text-neutral-700 dark:text-neutral-300">Format</th>
                                    <th class="p-3 text-center font-semibold text-neutral-700 dark:text-neutral-300">Compression</th>
                                    <th class="p-3 text-center font-semibold text-neutral-700 dark:text-neutral-300">Transparency</th>
                                    <th class="p-3 text-left font-semibold text-neutral-700 dark:text-neutral-300">Best For</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-neutral-200 dark:divide-neutral-700">
                                <tr>
                                    <td class="p-3 font-semibold text-neutral-900 dark:text-neutral-200">JPEG</td>
                                    <td class="p-3 text-center">Lossy</td>
                                    <td class="p-3 text-center"><span class="text-red-500">‚úó</span></td>
                                    <td class="p-3 text-neutral-600 dark:text-neutral-400">Photos, complex images with gradients</td>
                                </tr>
                                <tr>
                                    <td class="p-3 font-semibold text-neutral-900 dark:text-neutral-200">PNG</td>
                                    <td class="p-3 text-center">Lossless</td>
                                    <td class="p-3 text-center"><span class="text-green-500">‚úì</span></td>
                                    <td class="p-3 text-neutral-600 dark:text-neutral-400">Graphics, logos, screenshots, icons</td>
                                </tr>
                                <tr>
                                    <td class="p-3 font-semibold text-neutral-900 dark:text-neutral-200">WebP</td>
                                    <td class="p-3 text-center">Both</td>
                                    <td class="p-3 text-center"><span class="text-green-500">‚úì</span></td>
                                    <td class="p-3 text-neutral-600 dark:text-neutral-400">Web images (25-35% smaller than JPEG/PNG)</td>
                                </tr>
                                <tr>
                                    <td class="p-3 font-semibold text-neutral-900 dark:text-neutral-200">AVIF</td>
                                    <td class="p-3 text-center">Both</td>
                                    <td class="p-3 text-center"><span class="text-green-500">‚úì</span></td>
                                    <td class="p-3 text-neutral-600 dark:text-neutral-400">Modern web (50% smaller than JPEG)</td>
                                </tr>
                                <tr>
                                    <td class="p-3 font-semibold text-neutral-900 dark:text-neutral-200">GIF</td>
                                    <td class="p-3 text-center">Lossless</td>
                                    <td class="p-3 text-center"><span class="text-green-500">‚úì</span></td>
                                    <td class="p-3 text-neutral-600 dark:text-neutral-400">Simple animations, limited colors (256)</td>
                                </tr>
                                <tr>
                                    <td class="p-3 font-semibold text-neutral-900 dark:text-neutral-200">SVG</td>
                                    <td class="p-3 text-center">Vector</td>
                                    <td class="p-3 text-center"><span class="text-green-500">‚úì</span></td>
                                    <td class="p-3 text-neutral-600 dark:text-neutral-400">Icons, logos, scalable graphics</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Quality Guide -->
                <section>
                    <div class="flex items-center gap-3 mb-4">
                        <div class="p-1.5 rounded-md bg-neutral-100 dark:bg-neutral-800">
                            <i data-lucide="sliders" class="w-4 h-4 text-neutral-600 dark:text-neutral-400"></i>
                        </div>
                        <h2 class="text-xl font-medium font-display text-neutral-900 dark:text-white">Quality Setting Guide</h2>
                    </div>
                    <div class="grid gap-3">
                        <div class="p-4 border rounded-lg border-neutral-200 dark:border-neutral-700">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-semibold text-sm text-neutral-900 dark:text-white">90-100%</span>
                                <span class="px-2 py-0.5 text-[10px] font-bold rounded bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400">HIGHEST</span>
                            </div>
                            <p class="text-xs text-neutral-600 dark:text-neutral-400">Near-lossless quality. Best for professional photography, print materials. Minimal file size reduction.</p>
                        </div>
                        <div class="p-4 border rounded-lg border-green-200 dark:border-green-700/50 bg-green-50/50 dark:bg-green-900/10">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-semibold text-sm text-neutral-900 dark:text-white">70-85%</span>
                                <span class="px-2 py-0.5 text-[10px] font-bold rounded bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400">RECOMMENDED</span>
                            </div>
                            <p class="text-xs text-neutral-600 dark:text-neutral-400">Optimal balance for web images. Imperceptible quality loss, 60-80% file size reduction. Industry standard.</p>
                        </div>
                        <div class="p-4 border rounded-lg border-neutral-200 dark:border-neutral-700">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-semibold text-sm text-neutral-900 dark:text-white">50-70%</span>
                                <span class="px-2 py-0.5 text-[10px] font-bold rounded bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400">AGGRESSIVE</span>
                            </div>
                            <p class="text-xs text-neutral-600 dark:text-neutral-400">Noticeable quality loss on close inspection. Good for thumbnails, previews, or bandwidth-constrained scenarios.</p>
                        </div>
                        <div class="p-4 border rounded-lg border-neutral-200 dark:border-neutral-700">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-semibold text-sm text-neutral-900 dark:text-white">Below 50%</span>
                                <span class="px-2 py-0.5 text-[10px] font-bold rounded bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400">LOW</span>
                            </div>
                            <p class="text-xs text-neutral-600 dark:text-neutral-400">Visible artifacts and blur. Only for extreme size constraints or placeholder images.</p>
                        </div>
                    </div>
                </section>

                <!-- Use Cases -->
                <section>
                    <div class="flex items-center gap-3 mb-4">
                        <div class="p-1.5 rounded-md bg-neutral-100 dark:bg-neutral-800">
                            <i data-lucide="target" class="w-4 h-4 text-neutral-600 dark:text-neutral-400"></i>
                        </div>
                        <h2 class="text-xl font-medium font-display text-neutral-900 dark:text-white">Common Use Cases</h2>
                    </div>
                    <div class="grid gap-4 md:grid-cols-2">
                        <div class="p-4 border rounded-lg border-neutral-200 dark:border-neutral-700">
                            <h3 class="font-semibold text-sm text-neutral-900 dark:text-white mb-2">üåê Website Performance</h3>
                            <p class="text-xs text-neutral-600 dark:text-neutral-400">Images account for ~50% of page weight. Compression improves load times, SEO rankings, and user experience.</p>
                        </div>
                        <div class="p-4 border rounded-lg border-neutral-200 dark:border-neutral-700">
                            <h3 class="font-semibold text-sm text-neutral-900 dark:text-white mb-2">üìß Email Attachments</h3>
                            <p class="text-xs text-neutral-600 dark:text-neutral-400">Stay under email size limits (typically 25MB). Compressed images load faster in email clients.</p>
                        </div>
                        <div class="p-4 border rounded-lg border-neutral-200 dark:border-neutral-700">
                            <h3 class="font-semibold text-sm text-neutral-900 dark:text-white mb-2">üíæ Storage Optimization</h3>
                            <p class="text-xs text-neutral-600 dark:text-neutral-400">Reduce cloud storage costs. A 5MB photo can often be compressed to under 500KB with minimal quality loss.</p>
                        </div>
                        <div class="p-4 border rounded-lg border-neutral-200 dark:border-neutral-700">
                            <h3 class="font-semibold text-sm text-neutral-900 dark:text-white mb-2">üì± Social Media</h3>
                            <p class="text-xs text-neutral-600 dark:text-neutral-400">Faster uploads and better quality control vs platform auto-compression which can introduce artifacts.</p>
                        </div>
                    </div>
                </section>

                <!-- FAQ Section -->
                <section>
                    <div class="flex items-center gap-3 mb-4">
                        <div class="p-1.5 rounded-md bg-neutral-100 dark:bg-neutral-800">
                            <i data-lucide="help-circle" class="w-4 h-4 text-neutral-600 dark:text-neutral-400"></i>
                        </div>
                        <h2 class="text-xl font-medium font-display text-neutral-900 dark:text-white">Frequently Asked Questions</h2>
                    </div>
                    <div class="space-y-4">
                        <details class="p-4 border rounded-lg cursor-pointer group border-neutral-200 dark:border-neutral-800">
                            <summary class="flex items-center justify-between font-medium text-neutral-900 dark:text-white">
                                <span>Are my images uploaded to a server?</span>
                                <i data-lucide="chevron-down" class="w-4 h-4 transition transform group-open:rotate-180"></i>
                            </summary>
                            <div class="mt-3 text-sm text-neutral-600 dark:text-neutral-400">
                                <p>No. This tool runs entirely in your browser using the HTML5 Canvas API. Your images never leave your device. All compression processing happens locally using JavaScript.</p>
                            </div>
                        </details>
                        <details class="p-4 border rounded-lg cursor-pointer group border-neutral-200 dark:border-neutral-800">
                            <summary class="flex items-center justify-between font-medium text-neutral-900 dark:text-white">
                                <span>What quality setting should I use?</span>
                                <i data-lucide="chevron-down" class="w-4 h-4 transition transform group-open:rotate-180"></i>
                            </summary>
                            <div class="mt-3 text-sm text-neutral-600 dark:text-neutral-400">
                                <p><strong>70-85%</strong> is the sweet spot for most web use. This provides 60-80% file size reduction with virtually no perceptible quality loss. For print or professional work, use 90%+. For thumbnails or previews, 50-60% is acceptable.</p>
                            </div>
                        </details>
                        <details class="p-4 border rounded-lg cursor-pointer group border-neutral-200 dark:border-neutral-800">
                            <summary class="flex items-center justify-between font-medium text-neutral-900 dark:text-white">
                                <span>Why is my PNG larger after "compression"?</span>
                                <i data-lucide="chevron-down" class="w-4 h-4 transition transform group-open:rotate-180"></i>
                            </summary>
                            <div class="mt-3 text-sm text-neutral-600 dark:text-neutral-400">
                                <p>PNGs are lossless, so the quality slider doesn't reduce their size the same way. When converting PNG to JPEG (via quality slider), the file shrinks dramatically but loses transparency. For true PNG optimization, specialized tools like pngquant provide better results.</p>
                            </div>
                        </details>
                        <details class="p-4 border rounded-lg cursor-pointer group border-neutral-200 dark:border-neutral-800">
                            <summary class="flex items-center justify-between font-medium text-neutral-900 dark:text-white">
                                <span>What's the difference between JPEG, PNG, and WebP?</span>
                                <i data-lucide="chevron-down" class="w-4 h-4 transition transform group-open:rotate-180"></i>
                            </summary>
                            <div class="mt-3 text-sm text-neutral-600 dark:text-neutral-400">
                                <ul class="space-y-2">
                                    <li><strong>JPEG:</strong> Best for photos. Lossy compression, no transparency. Smallest files for photographic content.</li>
                                    <li><strong>PNG:</strong> Best for graphics/screenshots. Lossless, supports transparency. Larger files but pixel-perfect.</li>
                                    <li><strong>WebP:</strong> Modern format, 25-35% smaller than JPEG/PNG. Supports both lossy/lossless and transparency. 97% browser support.</li>
                                </ul>
                            </div>
                        </details>
                        <details class="p-4 border rounded-lg cursor-pointer group border-neutral-200 dark:border-neutral-800">
                            <summary class="flex items-center justify-between font-medium text-neutral-900 dark:text-white">
                                <span>How much can I expect to reduce file size?</span>
                                <i data-lucide="chevron-down" class="w-4 h-4 transition transform group-open:rotate-180"></i>
                            </summary>
                            <div class="mt-3 text-sm text-neutral-600 dark:text-neutral-400">
                                <p>Results vary by image, but typical expectations:</p>
                                <ul class="mt-2 space-y-1 list-disc list-inside">
                                    <li>Smartphone photos (12MP+): 4-8MB ‚Üí 200-500KB (90%+ reduction)</li>
                                    <li>DSLR photos: 10-30MB ‚Üí 500KB-2MB (85-95% reduction)</li>
                                    <li>Screenshots: Varies widely based on content complexity</li>
                                    <li>Already compressed web images: 10-30% additional reduction</li>
                                </ul>
                            </div>
                        </details>
                    </div>
                </section>

                <!-- Related Tools -->
                <section>
                    <div class="flex items-center gap-3 mb-4">
                        <div class="p-1.5 rounded-md bg-neutral-100 dark:bg-neutral-800">
                            <i data-lucide="link" class="w-4 h-4 text-neutral-600 dark:text-neutral-400"></i>
                        </div>
                        <h2 class="text-xl font-medium font-display text-neutral-900 dark:text-white">Related Tools</h2>
                    </div>
                    <div class="grid gap-4 sm:grid-cols-2">
                        <a href="/base64-encode" class="flex items-center gap-3 p-4 transition-colors border rounded-lg border-neutral-200 dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-800">
                            <div class="p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30">
                                <i data-lucide="file-code" class="w-5 h-5 text-blue-600 dark:text-blue-400"></i>
                            </div>
                            <div>
                                <div class="font-medium text-neutral-900 dark:text-white">Base64 Encoder</div>
                                <div class="text-xs text-neutral-500 dark:text-neutral-400">Convert images to Base64 strings</div>
                            </div>
                        </a>
                        <a href="/hash-generator" class="flex items-center gap-3 p-4 transition-colors border rounded-lg border-neutral-200 dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-800">
                            <div class="p-2 rounded-lg bg-purple-100 dark:bg-purple-900/30">
                                <i data-lucide="hash" class="w-5 h-5 text-purple-600 dark:text-purple-400"></i>
                            </div>
                            <div>
                                <div class="font-medium text-neutral-900 dark:text-white">Hash Generator</div>
                                <div class="text-xs text-neutral-500 dark:text-neutral-400">Generate file checksums</div>
                            </div>
                        </a>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <script src="layout.js"></script>

    <script>
        lucide.createIcons({ attrs: { 'stroke-width': 1.5 } });

        const dropZone = document.getElementById('drop-zone');
        const fileInput = document.getElementById('file-input');
        const imagesContainer = document.getElementById('images-container');
        const qualitySlider = document.getElementById('quality-slider');
        const qualityValue = document.getElementById('quality-value');
        const clearAllBtn = document.getElementById('clear-all');
        const themeToggleBtn = document.getElementById('theme-toggle');

        let processedImages = [];

        // Quality slider
        qualitySlider.addEventListener('input', (e) => {
            qualityValue.textContent = e.target.value + '%';
        });

        // Drop zone click
        dropZone.addEventListener('click', () => fileInput.click());

        // Drag and drop
        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.classList.add('drag-over');
        });

        dropZone.addEventListener('dragleave', () => {
            dropZone.classList.remove('drag-over');
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('drag-over');
            handleFiles(e.dataTransfer.files);
        });

        fileInput.addEventListener('change', (e) => {
            handleFiles(e.target.files);
        });

        function handleFiles(files) {
            const validFiles = Array.from(files).filter(file => file.type && file.type.startsWith('image/'));

            if (validFiles.length === 0) {
                alert('Please select image files only.');
                return;
            }

            imagesContainer.innerHTML = '';
            clearAllBtn.classList.remove('hidden');

            validFiles.forEach(file => compressImage(file));
        }

        async function compressImage(file) {
            const quality = qualitySlider.value / 100;
            const reader = new FileReader();

            reader.onload = (e) => {
                const img = new Image();
                img.onload = () => {
                    const canvas = document.createElement('canvas');
                    canvas.width = img.width;
                    canvas.height = img.height;

                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, 0, 0);

                    canvas.toBlob((blob) => {
                        if (!blob) {
                            alert(`Could not compress: ${file.name}`);
                            return;
                        }
                        const originalSize = file.size;
                        const compressedSize = blob.size;
                        const savings = ((1 - compressedSize / originalSize) * 100).toFixed(1);

                        const outputName = getOutputFileName(file.name, blob.type);
                        displayResult(outputName, originalSize, compressedSize, savings, blob);
                    }, getOutputMimeType(file.type), quality);
                };
                img.src = e.target.result;
            };

            reader.readAsDataURL(file);
        }

        function getOutputMimeType(inputType) {
            const supported = new Set(['image/jpeg', 'image/png', 'image/webp']);
            if (supported.has(inputType)) return inputType;
            return 'image/jpeg';
        }

        function getOutputFileName(originalName, outputType) {
            const ext = outputType === 'image/png' ? 'png' : outputType === 'image/webp' ? 'webp' : 'jpg';
            const base = originalName.replace(/\.[^/.]+$/, '');
            return `${base}.${ext}`;
        }

        function displayResult(name, originalSize, compressedSize, savings, blob) {
            const resultDiv = document.createElement('div');
            resultDiv.className = 'p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg flex items-center justify-between';

            resultDiv.innerHTML = `
                <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium truncate text-neutral-900 dark:text-neutral-100">${name}</p>
                    <div class="flex items-center gap-4 mt-1 text-xs text-neutral-500 dark:text-neutral-400">
                        <span>${formatBytes(originalSize)} ‚Üí ${formatBytes(compressedSize)}</span>
                        <span class="px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-sm font-medium">
                            -${savings}%
                        </span>
                    </div>
                </div>
                <button onclick="downloadImage(this)" data-blob="${URL.createObjectURL(blob)}" data-name="${name}" class="flex items-center gap-2 px-4 py-2 ml-4 text-sm font-medium text-white transition-colors bg-pink-600 rounded-md hover:bg-pink-700">
                    <i data-lucide="download" class="w-4 h-4"></i>
                    Download
                </button>
            `;

            imagesContainer.appendChild(resultDiv);
            lucide.createIcons({ attrs: { 'stroke-width': 1.5 } });
        }

        function downloadImage(btn) {
            const url = btn.dataset.blob;
            const name = btn.dataset.name;
            const a = document.createElement('a');
            a.href = url;
            a.download = 'compressed_' + name;
            a.click();
        }

        function formatBytes(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        clearAllBtn.addEventListener('click', () => {
            imagesContainer.innerHTML = '<div class="py-12 text-center text-neutral-400 dark:text-neutral-600">No images uploaded yet</div>';
            clearAllBtn.classList.add('hidden');
            fileInput.value = '';
        });


    </script>
</body>

</html>