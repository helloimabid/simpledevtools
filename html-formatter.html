<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-M2JM5FC3');</script>
    <!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Free HTML formatter and beautifier. Format, beautify, and minify HTML code with proper indentation. Supports HTML5, SVG, and embedded scripts/styles.">
    <meta name="keywords" content="html formatter, html beautifier, html minifier, format html, prettify html, html code formatter, html indenter">
    <meta name="robots" content="index, follow">
    <meta name="author" content="SimpleDevTools">
    <title>HTML Formatter & Beautifier - Format, Minify HTML Online | SimpleDevTools</title>
    <meta name="google-adsense-account" content="ca-pub-9710571190649081">
    <link rel="canonical" href="https://simpledevtools.tech/html-formatter" />

    <!-- Open Graph -->
    <meta property="og:title" content="HTML Formatter & Beautifier - Format, Minify HTML Online">
    <meta property="og:description" content="Free online HTML formatter with beautify and minify options. Clean up messy HTML markup instantly.">
    <meta property="og:url" content="https://simpledevtools.tech/html-formatter">
    <meta property="og:type" content="website">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "HTML Formatter",
      "description": "Free HTML formatter and beautifier. Format, beautify, and minify HTML code.",
      "url": "https://simpledevtools.tech/html-formatter",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "creator": {
        "@type": "Organization",
        "name": "SimpleDevTools",
        "url": "https://simpledevtools.tech"
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {"@type": "ListItem", "position": 1, "name": "Home", "item": "https://simpledevtools.tech/"},
        {"@type": "ListItem", "position": 2, "name": "Tools", "item": "https://simpledevtools.tech/tools"},
        {"@type": "ListItem", "position": 3, "name": "HTML Formatter", "item": "https://simpledevtools.tech/html-formatter"}
      ]
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {"@type": "Question", "name": "What is an HTML formatter?", "acceptedAnswer": {"@type": "Answer", "text": "An HTML formatter is a tool that automatically formats HTML code with proper indentation and line breaks, making the markup more readable and easier to maintain."}},
        {"@type": "Question", "name": "Does this preserve my script and style tags?", "acceptedAnswer": {"@type": "Answer", "text": "Yes, the formatter preserves inline scripts and styles. It doesn't modify the content inside script and style tags to avoid breaking your code."}},
        {"@type": "Question", "name": "Is my HTML sent to a server?", "acceptedAnswer": {"@type": "Answer", "text": "No. All formatting happens 100% in your browser using JavaScript. Your code never leaves your device."}},
        {"@type": "Question", "name": "What's the difference between beautify and minify?", "acceptedAnswer": {"@type": "Answer", "text": "Beautify adds proper indentation and line breaks for readability. Minify removes all unnecessary whitespace to reduce file size for production."}}
      ]
    }
    </script>

    <script src="https://analytics.ahrefs.com/analytics.js" data-key="Hsz4y6HoB+jznDcQTkjyfg" async></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&amp;family=Space+Grotesk:wght@400;500;600&amp;family=JetBrains+Mono:wght@400;500&amp;display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="./dist/output.css">
    <script src="./dist/js/lucide.min.js"></script>

    <style>
        .code-editor {
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            line-height: 1.6;
            tab-size: 2;
        }

        #drop-zone.drag-over {
            background: rgba(249, 115, 22, 0.05);
            border-color: rgba(249, 115, 22, 0.3);
        }

        .dark #drop-zone.drag-over {
            background: rgba(249, 115, 22, 0.1);
            border-color: rgba(249, 115, 22, 0.5);
        }

        #drag-overlay {
            animation: fadeIn 0.2s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9710571190649081" crossorigin="anonymous"></script>
</head>

<body class="flex flex-col min-h-screen transition-colors duration-300 bg-white dark:bg-black text-neutral-900 dark:text-neutral-100">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M2JM5FC3" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <noscript>
        <nav class="p-4 text-sm text-neutral-600 dark:text-neutral-400">
            <a href="/" class="underline">Home</a> |
            <a href="/tools" class="underline">Tools</a>
        </nav>
    </noscript>

    <div class="fixed inset-0 z-0 pointer-events-none bg-grid opacity-60"></div>
    <div class="fixed top-0 left-1/2 -translate-x-1/2 w-[600px] h-[300px] bg-orange-500/10 dark:bg-orange-500/20 blur-[100px] rounded-full pointer-events-none z-0"></div>

    <!-- Main Content -->
    <main class="relative z-10 px-4 pb-20 grow pt-28 sm:px-6">
        <div class="mx-auto max-w-7xl">

            <!-- Header Section -->
            <div class="max-w-2xl mx-auto mb-12 text-center">
                <div class="inline-flex items-center gap-2 px-3 py-1 mb-6 font-mono text-xs font-medium text-orange-600 border border-orange-100 rounded-full bg-orange-50 dark:bg-orange-900/20 dark:text-orange-400 dark:border-orange-900/30">
                    <i data-lucide="shield-check" class="w-3 h-3"></i>
                    <span>Processed locally. No data reaches our servers.</span>
                </div>
                <h1 class="mb-4 text-4xl font-semibold tracking-tight font-display sm:text-5xl text-neutral-900 dark:text-white">
                    HTML Formatter & Beautifier
                </h1>
                <p class="text-lg leading-relaxed text-neutral-500 dark:text-neutral-400">
                    Format, beautify, and minify HTML code with proper indentation and clean structure.
                </p>
            </div>

            <!-- Tool Interface -->
            <div id="html-formatter" class="relative mb-16 overflow-hidden bg-white border shadow-xs dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800 rounded-xl">

                <!-- Toolbar -->
                <div class="flex flex-wrap items-center justify-between gap-3 p-3 border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50/50 dark:bg-neutral-900/50">
                    <div class="flex flex-wrap items-center gap-2">
                        <!-- Primary Format Button -->
                        <button onclick="formatHTML(2)"
                            class="flex items-center gap-1.5 px-3 py-1.5 bg-orange-500 hover:bg-orange-600 text-white text-xs font-medium rounded-md transition-colors shadow-xs">
                            <i data-lucide="sparkles" class="w-3.5 h-3.5"></i>
                            Beautify
                        </button>

                        <div class="w-px h-6 mx-1 bg-neutral-200 dark:bg-neutral-800"></div>

                        <!-- Indent Options -->
                        <button onclick="formatHTML(2)"
                            class="flex items-center gap-1.5 px-3 py-1.5 bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-neutral-750 text-xs font-medium rounded-md transition-colors">
                            <i data-lucide="indent" class="w-3.5 h-3.5"></i>
                            2 Spaces
                        </button>
                        <button onclick="formatHTML(4)"
                            class="flex items-center gap-1.5 px-3 py-1.5 bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-neutral-750 text-xs font-medium rounded-md transition-colors">
                            <i data-lucide="indent" class="w-3.5 h-3.5"></i>
                            4 Spaces
                        </button>

                        <div class="w-px h-6 mx-1 bg-neutral-200 dark:bg-neutral-800"></div>

                        <button onclick="minifyHTML()"
                            class="flex items-center gap-1.5 px-3 py-1.5 bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-neutral-750 text-xs font-medium rounded-md transition-colors">
                            <i data-lucide="minimize-2" class="w-3.5 h-3.5"></i>
                            Minify
                        </button>

                        <button onclick="validateHTML()"
                            class="flex items-center gap-1.5 px-3 py-1.5 bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-50 dark:hover:bg-neutral-750 text-xs font-medium rounded-md transition-colors">
                            <i data-lucide="check-circle" class="w-3.5 h-3.5"></i>
                            Validate
                        </button>
                    </div>

                    <div class="flex flex-wrap items-center gap-2">
                        <button onclick="document.getElementById('file-upload').click()"
                            class="flex items-center gap-1.5 px-3 py-1.5 text-neutral-500 hover:text-orange-600 dark:hover:text-orange-400 text-xs font-medium transition-colors">
                            <i data-lucide="upload" class="w-3.5 h-3.5"></i>
                            Upload
                        </button>
                        <input type="file" id="file-upload" class="hidden" accept=".html,.htm,.svg,.xml" onchange="handleFileUpload(this)">

                        <button onclick="loadSample()"
                            class="flex items-center gap-1.5 px-3 py-1.5 text-neutral-500 hover:text-orange-600 dark:hover:text-orange-400 text-xs font-medium transition-colors">
                            Sample
                        </button>
                        <button onclick="clearAll()"
                            class="flex items-center gap-1.5 px-3 py-1.5 text-neutral-500 hover:text-red-600 text-xs font-medium transition-colors">
                            <i data-lucide="trash-2" class="w-3.5 h-3.5"></i>
                            Clear
                        </button>
                        <button onclick="copyOutput()"
                            class="flex items-center gap-1.5 px-3 py-1.5 bg-neutral-900 dark:bg-white hover:bg-neutral-800 dark:hover:bg-neutral-200 text-white dark:text-neutral-900 text-xs font-medium rounded-md transition-colors shadow-xs">
                            <i data-lucide="copy" class="w-3.5 h-3.5"></i>
                            Copy
                        </button>
                        <button onclick="downloadHTML()"
                            class="flex items-center gap-1.5 px-3 py-1.5 bg-neutral-900 dark:bg-white hover:bg-neutral-800 dark:hover:bg-neutral-200 text-white dark:text-neutral-900 text-xs font-medium rounded-md transition-colors shadow-xs">
                            <i data-lucide="download" class="w-3.5 h-3.5"></i>
                            Save
                        </button>
                    </div>
                </div>

                <!-- Editor Area -->
                <div class="grid grid-cols-1 lg:grid-cols-2 divide-y lg:divide-y-0 lg:divide-x divide-neutral-200 dark:divide-neutral-800 h-[600px]">
                    <!-- Input -->
                    <div class="relative flex flex-col h-full group" id="drop-zone">
                        <div class="flex items-center justify-between px-4 py-2 font-mono text-xs border-b bg-neutral-50/30 dark:bg-neutral-900/30 border-neutral-100 dark:border-neutral-800 text-neutral-500 shrink-0">
                            <span class="flex items-center gap-2">
                                Input
                                <span class="px-1.5 py-0.5 rounded-sm bg-orange-100 dark:bg-orange-900/30 text-[10px] text-orange-700 dark:text-orange-400 font-bold">HTML</span>
                            </span>
                            <div class="flex items-center gap-3">
                                <span id="input-stats">0 chars • 0 lines</span>
                            </div>
                        </div>

                        <!-- Error Banner -->
                        <div id="error-banner" class="hidden p-3 border-b border-red-100 bg-red-50 dark:bg-red-900/20 dark:border-red-900/50 shrink-0">
                            <div class="flex items-start gap-2">
                                <i data-lucide="alert-circle" class="w-4 h-4 text-red-600 dark:text-red-400 mt-0.5 shrink-0"></i>
                                <div class="flex-1 min-w-0">
                                    <p class="text-xs font-medium text-red-800 dark:text-red-300">Error</p>
                                    <p id="error-message" class="text-[11px] text-red-600 dark:text-red-400 font-mono mt-0.5 break-all"></p>
                                </div>
                                <button onclick="dismissError()" class="text-red-400 hover:text-red-600 dark:hover:text-red-300">
                                    <i data-lucide="x" class="w-3.5 h-3.5"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Success Banner -->
                        <div id="success-banner" class="hidden p-3 border-b border-emerald-100 bg-emerald-50 dark:bg-emerald-900/20 dark:border-emerald-900/50 shrink-0">
                            <div class="flex items-start gap-2">
                                <i data-lucide="check-circle" class="w-4 h-4 text-emerald-600 dark:text-emerald-400 mt-0.5 shrink-0"></i>
                                <div class="flex-1 min-w-0">
                                    <p class="text-xs font-medium text-emerald-800 dark:text-emerald-300">Valid HTML</p>
                                    <p id="success-message" class="text-[11px] text-emerald-600 dark:text-emerald-400 font-mono mt-0.5"></p>
                                </div>
                                <button onclick="dismissSuccess()" class="text-emerald-400 hover:text-emerald-600 dark:hover:text-emerald-300">
                                    <i data-lucide="x" class="w-3.5 h-3.5"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Drag & Drop Overlay -->
                        <div id="drag-overlay" class="absolute z-20 flex-col items-center justify-center hidden transition-all rounded-lg pointer-events-none inset-2 bg-orange-50/90 dark:bg-orange-900/90 backdrop-blur-xs">
                            <i data-lucide="file-up" class="w-10 h-10 mb-2 text-orange-500"></i>
                            <p class="text-sm font-medium text-orange-700 dark:text-orange-300">Drop HTML file here</p>
                            <p class="mt-1 text-xs text-orange-600 dark:text-orange-400">Supports .html, .htm, .svg files</p>
                        </div>

                        <textarea id="html-input"
                            class="flex-1 w-full p-4 font-mono text-sm leading-relaxed transition-colors bg-transparent border-2 border-transparent resize-none focus:ring-0 text-neutral-800 dark:text-neutral-200 outline-hidden placeholder:text-neutral-400/50 code-editor"
                            placeholder="Paste your HTML code here..." spellcheck="false"></textarea>
                    </div>

                    <!-- Output -->
                    <div class="relative flex flex-col h-full bg-neutral-50/20 dark:bg-black/20">
                        <div class="flex items-center justify-between px-4 py-2 border-b bg-neutral-50/30 dark:bg-neutral-900/30 border-neutral-100 dark:border-neutral-800">
                            <span class="flex items-center gap-2 font-mono text-xs text-neutral-500">
                                Output
                                <span id="status-badge" class="hidden px-1.5 py-0.5 rounded-sm bg-emerald-100 dark:bg-emerald-900/30 text-[10px] text-emerald-700 dark:text-emerald-400 font-bold">Formatted</span>
                            </span>
                            <div class="flex items-center gap-3">
                                <span id="output-stats" class="font-mono text-xs text-neutral-500">0 chars • 0 lines</span>
                            </div>
                        </div>

                        <div id="html-output" class="flex-1 w-full p-4 overflow-auto font-mono text-sm leading-relaxed text-neutral-800 dark:text-neutral-200 code-editor whitespace-pre-wrap"></div>
                    </div>
                </div>

                <!-- Stats Bar -->
                <div class="flex items-center justify-between px-4 py-2 text-xs border-t border-neutral-200 dark:border-neutral-800 bg-neutral-50/50 dark:bg-neutral-900/50 text-neutral-500">
                    <div class="flex items-center gap-4">
                        <span id="tag-count">0 tags</span>
                        <span id="element-count">0 elements</span>
                    </div>
                    <span id="size-comparison" class="hidden text-emerald-600 dark:text-emerald-400"></span>
                </div>
            </div>

            <!-- Info Sections -->
            <div class="grid gap-8 mb-16 lg:grid-cols-3">
                <!-- Use Cases -->
                <div class="p-6 border rounded-xl bg-neutral-50 dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800">
                    <h2 class="flex items-center gap-2 mb-4 text-lg font-semibold text-neutral-900 dark:text-white">
                        <i data-lucide="lightbulb" class="w-5 h-5 text-orange-500"></i>
                        Use Cases
                    </h2>
                    <ul class="space-y-3 text-sm text-neutral-600 dark:text-neutral-400">
                        <li class="flex items-start gap-2">
                            <i data-lucide="check" class="w-4 h-4 mt-0.5 text-emerald-500 shrink-0"></i>
                            <span>Clean up minified HTML from view source</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i data-lucide="check" class="w-4 h-4 mt-0.5 text-emerald-500 shrink-0"></i>
                            <span>Format email templates for editing</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i data-lucide="check" class="w-4 h-4 mt-0.5 text-emerald-500 shrink-0"></i>
                            <span>Minify HTML for production deployment</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i data-lucide="check" class="w-4 h-4 mt-0.5 text-emerald-500 shrink-0"></i>
                            <span>Analyze and debug web page structure</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i data-lucide="check" class="w-4 h-4 mt-0.5 text-emerald-500 shrink-0"></i>
                            <span>Prepare code for documentation</span>
                        </li>
                    </ul>
                </div>

                <!-- Features -->
                <div class="p-6 border rounded-xl bg-neutral-50 dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800">
                    <h2 class="flex items-center gap-2 mb-4 text-lg font-semibold text-neutral-900 dark:text-white">
                        <i data-lucide="zap" class="w-5 h-5 text-orange-500"></i>
                        Features
                    </h2>
                    <ul class="space-y-3 text-sm text-neutral-600 dark:text-neutral-400">
                        <li class="flex items-start gap-2">
                            <i data-lucide="code" class="w-4 h-4 mt-0.5 text-orange-500 shrink-0"></i>
                            <span>Supports HTML5 and SVG documents</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i data-lucide="settings-2" class="w-4 h-4 mt-0.5 text-gray-500 shrink-0"></i>
                            <span>Configurable indentation (2 or 4 spaces)</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i data-lucide="check-circle" class="w-4 h-4 mt-0.5 text-green-500 shrink-0"></i>
                            <span>Basic HTML validation</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i data-lucide="minimize-2" class="w-4 h-4 mt-0.5 text-blue-500 shrink-0"></i>
                            <span>Minification with whitespace removal</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i data-lucide="file-code" class="w-4 h-4 mt-0.5 text-purple-500 shrink-0"></i>
                            <span>Preserves script and style content</span>
                        </li>
                    </ul>
                </div>

                <!-- Examples -->
                <div class="p-6 border rounded-xl bg-neutral-50 dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800">
                    <h2 class="flex items-center gap-2 mb-4 text-lg font-semibold text-neutral-900 dark:text-white">
                        <i data-lucide="file-code" class="w-5 h-5 text-orange-500"></i>
                        Quick Examples
                    </h2>
                    <div class="space-y-3">
                        <button onclick="loadExample('minified')" class="w-full p-3 text-sm text-left transition-colors border rounded-lg hover:bg-white dark:hover:bg-neutral-800 border-neutral-200 dark:border-neutral-700">
                            <span class="font-medium text-neutral-900 dark:text-white">Minified HTML</span>
                            <p class="mt-1 text-xs text-neutral-500">Beautify compressed markup</p>
                        </button>
                        <button onclick="loadExample('form')" class="w-full p-3 text-sm text-left transition-colors border rounded-lg hover:bg-white dark:hover:bg-neutral-800 border-neutral-200 dark:border-neutral-700">
                            <span class="font-medium text-neutral-900 dark:text-white">Form Elements</span>
                            <p class="mt-1 text-xs text-neutral-500">Complex form structure</p>
                        </button>
                        <button onclick="loadExample('semantic')" class="w-full p-3 text-sm text-left transition-colors border rounded-lg hover:bg-white dark:hover:bg-neutral-800 border-neutral-200 dark:border-neutral-700">
                            <span class="font-medium text-neutral-900 dark:text-white">Semantic HTML</span>
                            <p class="mt-1 text-xs text-neutral-500">Article with sections</p>
                        </button>
                    </div>
                </div>
            </div>

            <!-- FAQ Section -->
            <section class="mb-16">
                <h2 class="mb-6 text-2xl font-semibold text-center text-neutral-900 dark:text-white">Frequently Asked Questions</h2>
                <div class="max-w-3xl mx-auto space-y-4">
                    <details class="p-4 border rounded-lg group border-neutral-200 dark:border-neutral-800">
                        <summary class="flex items-center justify-between font-medium cursor-pointer text-neutral-900 dark:text-white">
                            <span>What is an HTML formatter?</span>
                            <i data-lucide="chevron-down" class="w-4 h-4 transition transform group-open:rotate-180"></i>
                        </summary>
                        <p class="mt-3 text-sm text-neutral-600 dark:text-neutral-400">
                            An HTML formatter is a tool that automatically formats HTML code with proper indentation and line breaks. It transforms messy, minified, or poorly formatted HTML into clean, readable markup that's easier to understand and maintain.
                        </p>
                    </details>

                    <details class="p-4 border rounded-lg group border-neutral-200 dark:border-neutral-800">
                        <summary class="flex items-center justify-between font-medium cursor-pointer text-neutral-900 dark:text-white">
                            <span>Does this preserve script and style content?</span>
                            <i data-lucide="chevron-down" class="w-4 h-4 transition transform group-open:rotate-180"></i>
                        </summary>
                        <p class="mt-3 text-sm text-neutral-600 dark:text-neutral-400">
                            Yes, the formatter preserves the content inside &lt;script&gt; and &lt;style&gt; tags. It doesn't modify the JavaScript or CSS code within these tags to avoid breaking your functionality. Only the HTML structure outside these tags is reformatted.
                        </p>
                    </details>

                    <details class="p-4 border rounded-lg group border-neutral-200 dark:border-neutral-800">
                        <summary class="flex items-center justify-between font-medium cursor-pointer text-neutral-900 dark:text-white">
                            <span>What's the difference between beautify and minify?</span>
                            <i data-lucide="chevron-down" class="w-4 h-4 transition transform group-open:rotate-180"></i>
                        </summary>
                        <p class="mt-3 text-sm text-neutral-600 dark:text-neutral-400">
                            <strong>Beautify</strong> expands HTML with proper indentation and line breaks, making it readable for developers. <strong>Minify</strong> removes all unnecessary whitespace, comments, and line breaks to create the smallest possible file size, which is ideal for production websites.
                        </p>
                    </details>

                    <details class="p-4 border rounded-lg group border-neutral-200 dark:border-neutral-800">
                        <summary class="flex items-center justify-between font-medium cursor-pointer text-neutral-900 dark:text-white">
                            <span>Can this validate HTML?</span>
                            <i data-lucide="chevron-down" class="w-4 h-4 transition transform group-open:rotate-180"></i>
                        </summary>
                        <p class="mt-3 text-sm text-neutral-600 dark:text-neutral-400">
                            Yes, the tool includes basic HTML validation that checks for common issues like unclosed tags, mismatched tag names, and invalid nesting. However, for comprehensive W3C validation, we recommend using the official W3C Markup Validation Service.
                        </p>
                    </details>

                    <details class="p-4 border rounded-lg group border-neutral-200 dark:border-neutral-800">
                        <summary class="flex items-center justify-between font-medium cursor-pointer text-neutral-900 dark:text-white">
                            <span>Is my HTML data secure?</span>
                            <i data-lucide="chevron-down" class="w-4 h-4 transition transform group-open:rotate-180"></i>
                        </summary>
                        <p class="mt-3 text-sm text-neutral-600 dark:text-neutral-400">
                            Yes, completely. All formatting happens 100% in your browser using JavaScript. Your HTML never leaves your device and is not sent to any server. This makes it safe to format any HTML, including pages with sensitive information.
                        </p>
                    </details>
                </div>
            </section>

            <!-- Related Tools -->
            <section class="p-6 border rounded-xl bg-neutral-50 dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800">
                <h2 class="mb-4 text-lg font-semibold text-neutral-900 dark:text-white">Related Tools</h2>
                <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
                    <a href="/javascript-formatter" class="flex items-center gap-3 p-3 transition-colors border rounded-lg border-neutral-200 dark:border-neutral-700 hover:bg-white dark:hover:bg-neutral-800">
                        <div class="p-2 rounded-lg bg-yellow-100 dark:bg-yellow-900/30">
                            <i data-lucide="file-code" class="w-4 h-4 text-yellow-600 dark:text-yellow-400"></i>
                        </div>
                        <div>
                            <div class="text-sm font-medium text-neutral-900 dark:text-white">JS Formatter</div>
                            <div class="text-xs text-neutral-500">Format JavaScript</div>
                        </div>
                    </a>
                    <a href="/css-formatter" class="flex items-center gap-3 p-3 transition-colors border rounded-lg border-neutral-200 dark:border-neutral-700 hover:bg-white dark:hover:bg-neutral-800">
                        <div class="p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30">
                            <i data-lucide="paintbrush" class="w-4 h-4 text-blue-600 dark:text-blue-400"></i>
                        </div>
                        <div>
                            <div class="text-sm font-medium text-neutral-900 dark:text-white">CSS Formatter</div>
                            <div class="text-xs text-neutral-500">Format CSS</div>
                        </div>
                    </a>
                    <a href="/json-formatter" class="flex items-center gap-3 p-3 transition-colors border rounded-lg border-neutral-200 dark:border-neutral-700 hover:bg-white dark:hover:bg-neutral-800">
                        <div class="p-2 rounded-lg bg-indigo-100 dark:bg-indigo-900/30">
                            <i data-lucide="braces" class="w-4 h-4 text-indigo-600 dark:text-indigo-400"></i>
                        </div>
                        <div>
                            <div class="text-sm font-medium text-neutral-900 dark:text-white">JSON Formatter</div>
                            <div class="text-xs text-neutral-500">Format JSON</div>
                        </div>
                    </a>
                    <a href="/markdown-editor" class="flex items-center gap-3 p-3 transition-colors border rounded-lg border-neutral-200 dark:border-neutral-700 hover:bg-white dark:hover:bg-neutral-800">
                        <div class="p-2 rounded-lg bg-gray-100 dark:bg-gray-900/30">
                            <i data-lucide="file-text" class="w-4 h-4 text-gray-600 dark:text-gray-400"></i>
                        </div>
                        <div>
                            <div class="text-sm font-medium text-neutral-900 dark:text-white">Markdown Editor</div>
                            <div class="text-xs text-neutral-500">Edit & preview Markdown</div>
                        </div>
                    </a>
                </div>
            </section>
        </div>
    </main>

    <script src="layout.js"></script>
    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        const htmlInput = document.getElementById('html-input');
        const htmlOutput = document.getElementById('html-output');
        const inputStats = document.getElementById('input-stats');
        const outputStats = document.getElementById('output-stats');
        const errorBanner = document.getElementById('error-banner');
        const errorMessage = document.getElementById('error-message');
        const successBanner = document.getElementById('success-banner');
        const successMessage = document.getElementById('success-message');
        const statusBadge = document.getElementById('status-badge');
        const sizeComparison = document.getElementById('size-comparison');
        const dropZone = document.getElementById('drop-zone');
        const dragOverlay = document.getElementById('drag-overlay');

        // Update stats on input
        htmlInput.addEventListener('input', () => {
            updateInputStats();
            hideError();
            hideSuccess();
        });

        function updateInputStats() {
            const text = htmlInput.value;
            const chars = text.length;
            const lines = text.split('\n').length;
            inputStats.textContent = `${chars.toLocaleString()} chars • ${lines} lines`;
        }

        function updateOutputStats(text) {
            const chars = text.length;
            const lines = text.split('\n').length;
            outputStats.textContent = `${chars.toLocaleString()} chars • ${lines} lines`;
        }

        function updateHTMLStats(html) {
            const tagMatches = html.match(/<[a-z][^>]*>/gi) || [];
            document.getElementById('tag-count').textContent = `${tagMatches.length} tags`;
            
            const uniqueTags = new Set(tagMatches.map(t => t.match(/<([a-z0-9]+)/i)?.[1]?.toLowerCase()));
            document.getElementById('element-count').textContent = `${uniqueTags.size} unique elements`;
        }

        function showError(msg) {
            errorBanner.classList.remove('hidden');
            errorMessage.textContent = msg;
            statusBadge.classList.add('hidden');
            hideSuccess();
        }

        function hideError() {
            errorBanner.classList.add('hidden');
        }

        function dismissError() {
            hideError();
        }

        function showSuccess(msg) {
            successBanner.classList.remove('hidden');
            successMessage.textContent = msg;
            hideError();
        }

        function hideSuccess() {
            successBanner.classList.add('hidden');
        }

        function dismissSuccess() {
            hideSuccess();
        }

        function formatHTML(indent = 2) {
            const html = htmlInput.value.trim();
            if (!html) {
                showError('Please enter some HTML to format');
                return;
            }

            try {
                const indentStr = ' '.repeat(indent);
                const formatted = beautifyHTML(html, indentStr);
                htmlOutput.textContent = formatted;
                updateOutputStats(formatted);
                updateHTMLStats(formatted);
                statusBadge.textContent = 'Formatted';
                statusBadge.classList.remove('hidden');
                hideError();
                showSizeComparison(html, formatted);
            } catch (e) {
                showError(e.message);
            }
        }

        function beautifyHTML(html, indent) {
            // Void elements that don't need closing tags
            const voidElements = new Set(['area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'link', 'meta', 'param', 'source', 'track', 'wbr']);
            
            // Elements that should preserve whitespace
            const preserveElements = new Set(['pre', 'code', 'textarea', 'script', 'style']);
            
            let result = '';
            let indentLevel = 0;
            let i = 0;
            let preserveWhitespace = false;
            let preserveTag = '';
            
            // Normalize whitespace first
            html = html.replace(/>\s+</g, '><').trim();
            
            while (i < html.length) {
                // Check for comments
                if (html.slice(i, i + 4) === '<!--') {
                    const endComment = html.indexOf('-->', i);
                    if (endComment !== -1) {
                        result += '\n' + indent.repeat(indentLevel) + html.slice(i, endComment + 3);
                        i = endComment + 3;
                        continue;
                    }
                }
                
                // Check for doctype
                if (html.slice(i, i + 9).toLowerCase() === '<!doctype') {
                    const endDoctype = html.indexOf('>', i);
                    if (endDoctype !== -1) {
                        result += html.slice(i, endDoctype + 1) + '\n';
                        i = endDoctype + 1;
                        continue;
                    }
                }
                
                // Check for tags
                if (html[i] === '<') {
                    const tagEnd = html.indexOf('>', i);
                    if (tagEnd === -1) {
                        result += html[i];
                        i++;
                        continue;
                    }
                    
                    const fullTag = html.slice(i, tagEnd + 1);
                    const isClosing = fullTag[1] === '/';
                    const isSelfClosing = fullTag.slice(-2) === '/>';
                    const tagName = fullTag.match(/<\/?([a-z0-9]+)/i)?.[1]?.toLowerCase() || '';
                    
                    // Handle preserve elements
                    if (preserveElements.has(tagName)) {
                        if (!isClosing) {
                            preserveWhitespace = true;
                            preserveTag = tagName;
                            result += '\n' + indent.repeat(indentLevel) + fullTag;
                            indentLevel++;
                        } else if (tagName === preserveTag) {
                            preserveWhitespace = false;
                            preserveTag = '';
                            indentLevel = Math.max(0, indentLevel - 1);
                            result += fullTag;
                        }
                        i = tagEnd + 1;
                        continue;
                    }
                    
                    if (preserveWhitespace) {
                        result += fullTag;
                        i = tagEnd + 1;
                        continue;
                    }
                    
                    if (isClosing) {
                        indentLevel = Math.max(0, indentLevel - 1);
                        result += '\n' + indent.repeat(indentLevel) + fullTag;
                    } else if (isSelfClosing || voidElements.has(tagName)) {
                        result += '\n' + indent.repeat(indentLevel) + fullTag;
                    } else {
                        result += '\n' + indent.repeat(indentLevel) + fullTag;
                        indentLevel++;
                    }
                    
                    i = tagEnd + 1;
                } else {
                    // Text content
                    let textEnd = html.indexOf('<', i);
                    if (textEnd === -1) textEnd = html.length;
                    
                    let text = html.slice(i, textEnd);
                    
                    if (preserveWhitespace) {
                        result += text;
                    } else {
                        text = text.trim();
                        if (text) {
                            result += '\n' + indent.repeat(indentLevel) + text;
                        }
                    }
                    
                    i = textEnd;
                }
            }
            
            return result.trim();
        }

        function minifyHTML() {
            const html = htmlInput.value.trim();
            if (!html) {
                showError('Please enter some HTML to minify');
                return;
            }

            try {
                const minified = minifyHTMLCode(html);
                htmlOutput.textContent = minified;
                updateOutputStats(minified);
                updateHTMLStats(minified);
                statusBadge.textContent = 'Minified';
                statusBadge.classList.remove('hidden');
                hideError();
                showSizeComparison(html, minified);
            } catch (e) {
                showError(e.message);
            }
        }

        function minifyHTMLCode(html) {
            // Remove comments (but not conditional comments)
            html = html.replace(/<!--(?!\[if)[\s\S]*?-->/gi, '');
            // Remove whitespace between tags
            html = html.replace(/>\s+</g, '><');
            // Remove leading/trailing whitespace
            html = html.trim();
            // Collapse multiple spaces
            html = html.replace(/\s{2,}/g, ' ');
            return html;
        }

        function validateHTML() {
            const html = htmlInput.value.trim();
            if (!html) {
                showError('Please enter some HTML to validate');
                return;
            }

            const issues = [];
            
            // Check for unclosed tags (simple check)
            const tagStack = [];
            const voidElements = new Set(['area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'link', 'meta', 'param', 'source', 'track', 'wbr']);
            
            const tagRegex = /<\/?([a-z][a-z0-9]*)\b[^>]*\/?>/gi;
            let match;
            
            while ((match = tagRegex.exec(html)) !== null) {
                const fullTag = match[0];
                const tagName = match[1].toLowerCase();
                const isClosing = fullTag[1] === '/';
                const isSelfClosing = fullTag.slice(-2) === '/>';
                
                if (voidElements.has(tagName) || isSelfClosing) {
                    continue;
                }
                
                if (isClosing) {
                    if (tagStack.length === 0) {
                        issues.push(`Unexpected closing tag </${tagName}>`);
                    } else if (tagStack[tagStack.length - 1] !== tagName) {
                        issues.push(`Mismatched tag: expected </${tagStack[tagStack.length - 1]}>, found </${tagName}>`);
                    } else {
                        tagStack.pop();
                    }
                } else {
                    tagStack.push(tagName);
                }
            }
            
            if (tagStack.length > 0) {
                issues.push(`Unclosed tags: ${tagStack.map(t => `<${t}>`).join(', ')}`);
            }
            
            if (issues.length > 0) {
                showError(issues.join('; '));
            } else {
                showSuccess('No obvious issues found. HTML appears to be well-formed.');
            }
        }

        function showSizeComparison(original, output) {
            const originalSize = new Blob([original]).size;
            const outputSize = new Blob([output]).size;
            const diff = originalSize - outputSize;
            const percent = ((diff / originalSize) * 100).toFixed(1);
            
            if (diff > 0) {
                sizeComparison.textContent = `Reduced by ${formatBytes(diff)} (${percent}%)`;
                sizeComparison.classList.remove('hidden');
            } else if (diff < 0) {
                sizeComparison.textContent = `Increased by ${formatBytes(Math.abs(diff))}`;
                sizeComparison.classList.remove('hidden');
            } else {
                sizeComparison.classList.add('hidden');
            }
        }

        function formatBytes(bytes) {
            if (bytes < 1024) return bytes + ' B';
            return (bytes / 1024).toFixed(1) + ' KB';
        }

        function loadSample() {
            htmlInput.value = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sample Page</title>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/about">About</a></li>
                <li><a href="/contact">Contact</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <article>
            <h1>Welcome to My Website</h1>
            <p>This is a sample HTML document.</p>
            <img src="image.jpg" alt="Sample image">
        </article>
    </main>
    <footer>
        <p>&copy; 2024 My Website</p>
    </footer>
</body>
</html>`;
            updateInputStats();
        }

        function loadExample(type) {
            const examples = {
                minified: `<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Page</title></head><body><header><nav><ul><li><a href="/">Home</a></li><li><a href="/about">About</a></li></ul></nav></header><main><h1>Title</h1><p>Content goes here.</p></main><footer><p>&copy; 2024</p></footer></body></html>`,
                form: `<form action="/submit" method="POST">
    <div class="form-group">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>
    </div>
    <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
    </div>
    <div class="form-group">
        <label for="message">Message:</label>
        <textarea id="message" name="message" rows="4"></textarea>
    </div>
    <div class="form-group">
        <label>Preference:</label>
        <select name="preference">
            <option value="email">Email</option>
            <option value="phone">Phone</option>
        </select>
    </div>
    <button type="submit">Send</button>
</form>`,
                semantic: `<article>
    <header>
        <h1>Article Title</h1>
        <p><time datetime="2024-01-15">January 15, 2024</time> by <a href="/author">Author Name</a></p>
    </header>
    <section>
        <h2>Introduction</h2>
        <p>Opening paragraph with <strong>important</strong> and <em>emphasized</em> text.</p>
    </section>
    <section>
        <h2>Main Content</h2>
        <figure>
            <img src="diagram.png" alt="Diagram">
            <figcaption>Figure 1: Important diagram</figcaption>
        </figure>
        <blockquote cite="https://example.com">
            <p>A notable quote from a reliable source.</p>
        </blockquote>
    </section>
    <footer>
        <p>Tags: <a href="/tag/html">HTML</a>, <a href="/tag/web">Web</a></p>
    </footer>
</article>`
            };
            
            htmlInput.value = examples[type] || '';
            updateInputStats();
        }

        function clearAll() {
            htmlInput.value = '';
            htmlOutput.textContent = '';
            updateInputStats();
            outputStats.textContent = '0 chars • 0 lines';
            document.getElementById('tag-count').textContent = '0 tags';
            document.getElementById('element-count').textContent = '0 unique elements';
            statusBadge.classList.add('hidden');
            sizeComparison.classList.add('hidden');
            hideError();
            hideSuccess();
        }

        function copyOutput() {
            const text = htmlOutput.textContent;
            if (!text) return;
            navigator.clipboard.writeText(text).then(() => {
                const btn = document.querySelector('[onclick="copyOutput()"]');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i data-lucide="check" class="w-3.5 h-3.5"></i> Copied!';
                lucide.createIcons();
                setTimeout(() => {
                    btn.innerHTML = originalText;
                    lucide.createIcons();
                }, 2000);
            });
        }

        function downloadHTML() {
            const text = htmlOutput.textContent || htmlInput.value;
            if (!text) return;
            
            const blob = new Blob([text], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'formatted.html';
            a.click();
            URL.revokeObjectURL(url);
        }

        function handleFileUpload(input) {
            const file = input.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = (e) => {
                htmlInput.value = e.target.result;
                updateInputStats();
            };
            reader.readAsText(file);
        }

        // Drag and drop
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(event => {
            dropZone.addEventListener(event, (e) => {
                e.preventDefault();
                e.stopPropagation();
            });
        });

        dropZone.addEventListener('dragenter', () => {
            dropZone.classList.add('drag-over');
            dragOverlay.classList.remove('hidden');
            dragOverlay.classList.add('flex');
        });

        dropZone.addEventListener('dragleave', (e) => {
            if (!dropZone.contains(e.relatedTarget)) {
                dropZone.classList.remove('drag-over');
                dragOverlay.classList.add('hidden');
                dragOverlay.classList.remove('flex');
            }
        });

        dropZone.addEventListener('drop', (e) => {
            dropZone.classList.remove('drag-over');
            dragOverlay.classList.add('hidden');
            dragOverlay.classList.remove('flex');
            
            const file = e.dataTransfer.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    htmlInput.value = e.target.result;
                    updateInputStats();
                };
                reader.readAsText(file);
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    formatHTML(2);
                } else if (e.key === 'm' || e.key === 'M') {
                    e.preventDefault();
                    minifyHTML();
                } else if (e.key === 's' || e.key === 'S') {
                    e.preventDefault();
                    downloadHTML();
                }
            }
        });
    </script>
</body>
</html>
